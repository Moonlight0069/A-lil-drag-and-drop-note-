<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasky McTaskFace Pro</title>
  <style>
    body { background: #000; color: #fff; font-family: Arial, sans-serif; margin: 20px; }
    .container { max-width: 600px; margin: auto; }
    header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    h1 { color: #FFD700; margin: 0; }
    .controls { display: flex; gap: 10px; margin-bottom: 10px; }
    .stats { display: flex; gap: 20px; margin-bottom: 20px; }
    .stat { background: #333; padding: 10px; border-radius: 5px; border: 1px solid #FFD700; }
    form { margin-bottom: 20px; display: flex; gap: 10px; }
    input { padding: 10px; flex-grow: 1; border-radius: 5px; border: 1px solid #FFD700; background: #111; color: #fff; }
    button { padding: 10px; background: #FFD700; color: #000; border: none; border-radius: 5px; cursor: pointer; }
    .controls button { background: #B8860B; color: #fff; }
    .completed { text-decoration: line-through; opacity: 0.7; }
    ul { list-style: none; padding: 0; display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; }
    li { background: #333; border-radius: 8px; padding: 12px; display: flex; flex-direction: column; gap: 10px; border: 1px solid #FFD700; }
    li > div { display: flex; gap: 8px; justify-content: flex-end; }
    li button { padding: 8px 10px; font-size: 12px; border-radius: 6px; }
    li button:last-child { background: #FF4500; color: #fff; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MY TASKS</h1>
      <div>Cyphx</div>
    </header>

    <div class="controls">
      <button id="hideBtn">Hide Completed</button>
      <button id="showBtn">Show All</button>
    </div>

    <div class="stats">
      <div class="stat">Total: <span id="total">0</span></div>
      <div class="stat">Completed: <span id="completed">0</span></div>
      <div class="stat">Pending: <span id="pending">0</span></div>
    </div>

    <form id="form">
      <input id="input" placeholder="Add task" required>
      <button>Add</button>
    </form>

    <ul id="list"></ul>
  </div>

  <script>
    const colors = ['#FFD700', '#FFA500', '#FF8C00', '#DAA520', '#B8860B', '#CD853F'];
    let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
    const form = document.getElementById('form');
    const input = document.getElementById('input');
    const list = document.getElementById('list');
    const total = document.getElementById('total');
    const completed = document.getElementById('completed');
    const pending = document.getElementById('pending');
    const hideBtn = document.getElementById('hideBtn');
    const showBtn = document.getElementById('showBtn');
    let hiddenCompleted = false;

    function getRandomColor() {
      return colors[Math.floor(Math.random() * colors.length)];
    }

    function update() {
      localStorage.setItem('tasks', JSON.stringify(tasks)); 

      total.textContent = tasks.length;
      completed.textContent = tasks.filter(t => t.done).length;
      pending.textContent = tasks.filter(t => !t.done).length;

      list.innerHTML = '';
      tasks.forEach((t, i) => {
        const li = document.createElement('li');
        li.style.backgroundColor = t.color || getRandomColor();
        if (!t.color) tasks[i].color = li.style.backgroundColor;
        li.innerHTML = `<span class="${t.done ? 'completed' : ''}">${t.text}</span>
          <div>
            <button onclick="toggle(${i})">${t.done ? 'Undo' : 'Done'}</button>
            <button onclick="del(${i})">Delete</button>
          </div>`;
        if (hiddenCompleted && t.done) li.classList.add('hidden');
        list.appendChild(li);
      });
    }

    form.onsubmit = e => {
      e.preventDefault();
      if (input.value.trim()) {
        tasks.push({ text: input.value, done: false, color: getRandomColor() });
        input.value = '';
        update();
      }
    };

    function toggle(i) { tasks[i].done = !tasks[i].done; update(); }
    function del(i) { tasks.splice(i, 1); update(); }

    hideBtn.onclick = () => {
      hiddenCompleted = true;
      update();
    };

    showBtn.onclick = () => {
      hiddenCompleted = false;
      update();
    };

    update();
  </script>
</body>
</html>